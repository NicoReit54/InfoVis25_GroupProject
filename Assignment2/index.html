<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chicago Airbnb and Crime Dashboard</title>

  <link rel="stylesheet" href="./style.css" />

  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>

  <header class="topbar">
    <h1>Chicago Airbnb and Crime Dashboard</h1>

    <div class="global-filters">
      <div class="filter-group">
        <label for="neighborhoodSelect">Neighborhood</label>
        <select id="neighborhoodSelect"></select>
      </div>

      <div class="filter-group">
        <label for="roomTypeSelect">Room Type</label>
        <select id="roomTypeSelect"></select>
      </div>

      <button id="clearFilters">Clear Filters</button>
      <span id="filterStatus" class="filter-status"></span>
    </div>
  </header>

  <main class="dashboard">

    <section class="panel" id="panel-map">
      <h2>Location Map</h2>
      <p class="panel-hint">Scroll to zoom, drag to select</p>
      
      <div class="panel-content-wrapper">
        <div class="plot-area">
          <div id="map"></div>
        </div>
        <div class="filter-sidebar">
          <div id="crimeTypeFilters" class="crime-filters"></div>
        </div>
      </div>
    </section>

    <section class="panel" id="panel-scatter">
      <h2>Crime vs Listings by Neighborhood</h2>
      <p class="panel-hint">Click point to filter by neighborhood</p>
      <div id="scatter"></div>
    </section>

    <section class="panel" id="panel-histogram">
      <h2>Price Distribution</h2>
      <p class="panel-hint">Click bar to filter treemap</p>
      <div id="histogram"></div>
    </section>

    <section class="panel" id="panel-treemap">
      <h2>Airbnb Feature Breakdown</h2>
      <p class="panel-hint">Click cell to filter histogram</p>

      <div class="panel-content-wrapper">
        <div class="plot-area">
          <div id="treemap"></div>
        </div>
        <div class="filter-sidebar">
          <div class="controls">
            <div class="control-row">
              <label>Level 1</label>
              <select id="level1">
                <option value="rating_bucket">Rating Bucket</option>
                <option value="room_type">Room Type</option>
                <option value="property_type">Property Type</option>
              </select>
            </div>

            <div class="control-row">
              <label>Level 2</label>
              <select id="level2">
                <option value="room_type">Room Type</option>
                <option value="property_type">Property Type</option>
                <option value="rating_bucket">Rating Bucket</option>
              </select>
            </div>

            <div class="control-row">
              <label>Level 3</label>
              <select id="level3">
                <option value="property_type">Property Type</option>
                <option value="room_type">Room Type</option>
                <option value="rating_bucket">Rating Bucket</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="panel" id="panel-crimeBar">
      <h2>Top Neighborhoods by Crime</h2>
      <p class="panel-hint">Click bar to filter by neighborhood</p>
      <div id="crimeBar"></div>
    </section>

    <section class="panel" id="panel-priceByRoom">
      <h2>Price by Room Type</h2>
      <p class="panel-hint">Average price comparison</p>
      <div id="priceByRoom"></div>
    </section>

  </main>

  <script type="module" src="src/main.js"></script>
</body>

</html>